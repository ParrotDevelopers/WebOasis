const DEF_SETTINGS_RELOADER={_settings:{_timeOffset:7776e6,_lastCheckedAtID:"last-updated-at"},_getLastCheckedAt:function(){let localSValue=localStorage.getItem(DEF_SETTINGS_RELOADER._settings._lastCheckedAtID);return localSValue?parseInt(localSValue):0},_getTimeSinceLastCheck:function(){return(new Date).getTime()-DEF_SETTINGS_RELOADER._getLastCheckedAt()},_hasTimePassed:function(){let lastTimeChecked=DEF_SETTINGS_RELOADER._getTimeSinceLastCheck(),offset=DEF_SETTINGS_RELOADER._settings._timeOffset;return 0==DEF_SETTINGS_RELOADER._getLastCheckedAt()?(DEF_SETTINGS_RELOADER._setLastUpdatedAt(),!1):lastTimeChecked>offset},_setLastUpdatedAt:function(){localStorage.setItem(DEF_SETTINGS_RELOADER._settings._lastCheckedAtID,(new Date).getTime()+"")},_setDefaultSettings:function(){localStorage.setItem("menu-items",JSON.stringify(defaultLinkMenu)),DEF_SETTINGS_RELOADER._setLastUpdatedAt(),buildMenu()},_init:()=>{let definedWindowFunctions=["addLinkToMenu","removeLinkFromMenu"],checkInterval=setInterval((()=>{if(!definedWindowFunctions.find((funcName=>{if("function"!=typeof window[funcName])return!0}))){let _origin_addLinkToMenu=window.addLinkToMenu;window.addLinkToMenu=(...args)=>(DEF_SETTINGS_RELOADER._setLastUpdatedAt(),_origin_addLinkToMenu(...args));let _origin_removeLinkFromMenu=window.removeLinkFromMenu;window.removeLinkFromMenu=(...args)=>(DEF_SETTINGS_RELOADER._setLastUpdatedAt(),_origin_removeLinkFromMenu(...args)),DEF_SETTINGS_RELOADER._hasTimePassed()&&DEF_SETTINGS_RELOADER._setDefaultSettings(),clearInterval(checkInterval)}}),50)}};DEF_SETTINGS_RELOADER._init();